Creation of database in shell: 
	cd C:\DATA_TBS1\TBS1\Fächer\LF5\aufgaben\Feinstaubmessung\sqlite
	sqlite3 particulate_matter_measurement.db

CREATE DATABASE particulate_matter_measurement;

CREATE TABLE Sensor_Location(
	Sensor_ID INT NOT NULL,
	Sensor_Type VARCHAR(64),
	Location DOUBLE,
	Latitue DOUBLE,
	Longitude DOUBLE,
	PRIMARY KEY(Sensor_ID)
);

INSERT INTO Sensor_Location (Sensor_ID, Sensor_Type, Location, Latitue, Longitude)
VALUES (value1, value2, value3, ...);


CREATE TABLE Weather(
	ID INT NOT NULL,
	Sensor_ID INT NOT NULL,
	Timestamp DATETIME,
	Temperature DOUBLE,
	Humidity DOUBLE,
	PRIMARY KEY(ID),
	FOREIGN KEY (Sensor_ID) REFERENCES Sensor_Location (Sensor_ID)
);


INSERT INTO Weather (ID, Sensor_ID, Timestamp, Humidity, Temperature)
VALUES (value1, value2, value3, ...);


CREATE TABLE particulate_matter(
	ID INT NOT NULL,
	Sensor_ID INT NOT NULL,
	Timestamp DATETIME,
	P1 DOUBLE,
	Dur_P1 DOUBLE,
	Ratio_P1 DOUBLE,
	P2 DOUBLE,
	Dur_P2 DOUBLE,
	Ratio_P2 DOUBLE,
	PRIMARY KEY(ID),
	FOREIGN KEY (Sensor_ID) REFERENCES Sensor_Location (Sensor_ID)	
);


INSERT INTO particulate_matter (ID, Sensor_ID, Timestamp, P1, Dur_P1, Ratio_P1, P2, Dur_P2, Ratio_P2)
VALUES (value1, value2, value3, ...);



Select statements

SELECT RowName1, RowName2, RowName3
WHERE +++
FROM TABLE1, TABLE2, TABLE1  

SELECT ID, Sensor_ID, Temperature, Timestamp
FROM Weather
WHERE Timestamp LIKE "2022-03-14%";

SELECT Timestamp, AVG(Temperature)
FROM Weather
WHERE Timestamp LIKE "2022-03-14%";

SELECT Timestamp, AVG(Temperature) AS AVG, MIN(Temperature) AS MIN, MAX(Temperature) AS MAX 
FROM Weather
WHERE Timestamp LIKE "2022-03-14%";






SELECT Weather.Timestamp, Humidity, Temperature
FROM Sensor_Location, particulate_matter, Weather
WHERE (Sensor_Location.Sensor_ID = particulate_matter.Sensor_ID
OR Sensor_Location.Sensor_ID = Weather.Sensor_ID)
AND Weather.Timestamp LIKE "2022-03-14%";


SELECT Sensor_Location.Sensor_ID, particulate_matter.P1, particulate_matter.P2, Weather.Timestamp, Humidity, Temperature
FROM Sensor_Location, particulate_matter, Weather
WHERE Sensor_Location.Sensor_ID = particulate_matter.Sensor_ID
OR Sensor_Location.Sensor_ID = Weather.Sensor_ID;




Statements für MS 6

SELECT 
Weather.Timestamp,
AVG(Weather.Humidity) AS AVG_Humidity,
MIN(Weather.Humidity) AS MIN_Humidity,
MAX(Weather.Humidity) AS MAX_Humidity
FROM Sensor_Location, Weather
WHERE (Sensor_Location.Sensor_ID = Weather.Sensor_ID)
AND Weather.Timestamp LIKE "2022-03-14%"
;

SELECT 
Weather.Timestamp,
AVG(Weather.Temperature) AS AVG_Temperature,
MIN(Weather.Temperature) AS MIN_Temperature,
MAX(Weather.Temperature) AS MAX_Temperature
FROM Sensor_Location, Weather
WHERE (Sensor_Location.Sensor_ID = Weather.Sensor_ID)
AND Weather.Timestamp LIKE "2022-03-14%"
;

SELECT 
particulate_matter.Timestamp,
AVG(particulate_matter.P1) AS AVG_P1,
MIN(particulate_matter.P1) AS MIN_P1,
MAX(particulate_matter.P1) AS MAX_P1,
AVG(particulate_matter.P2) AS AVG_P2,
MIN(particulate_matter.P2) AS MIN_P2,
MAX(particulate_matter.P2) AS MAX_P2
FROM Sensor_Location, particulate_matter
WHERE (Sensor_Location.Sensor_ID = particulate_matter.Sensor_ID)
AND particulate_matter.Timestamp LIKE "2022-03-14%"
;


